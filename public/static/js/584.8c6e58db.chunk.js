"use strict";(self.webpackChunklbanblog=self.webpackChunklbanblog||[]).push([[584],{3928:function(e,n,a){var s=a(2791),r=a(5985),t=a(7223),i=a(3483),l=a(184);n.Z=function(e){var n=e.children,a=e.name,o=(e.role,e.pageTitle),d=e.remove,u=void 0!==d&&d,c=(0,s.useContext)(i.V).user;return(0,l.jsxs)("div",{className:"appContainer",children:[(0,l.jsx)(t.wp,{name:a,role:null===c||void 0===c?void 0:c.role}),(0,l.jsxs)("div",{className:"contentsRight",children:[(0,l.jsx)(r.Ix,{}),(0,l.jsx)(t.h4,{title:o,user:c}),(0,l.jsx)("div",{className:u?"removePadding":"contents",children:n})]})]})}},1584:function(e,n,a){a.r(n);var s=a(4942),r=a(1413),t=a(9439),i=a(2791),l=a(3928),o=a(683),d=a(7223),u=a(2062),c=a.n(u),m=a(3722),f=a(749),b=a(184);n.default=function(){var e=(0,m.B)(),n=(0,i.useState)(!1),a=(0,t.Z)(n,2),u=a[0],h=a[1],v=(0,i.useState)(!1),p=(0,t.Z)(v,2),x=p[0],g=p[1],C=(0,i.useState)({}),j=(0,t.Z)(C,2),w=j[0],y=j[1],I=(0,i.useState)({}),P=(0,t.Z)(I,2),S=P[0],Z=P[1],z=function(e,n){y((0,r.Z)((0,r.Z)({},w),{},(0,s.Z)({},e,n)))},A=function(e,n){Z((0,r.Z)((0,r.Z)({},S),{},(0,s.Z)({},e,n)))},N=o.P.useUsers(),k=o.P.useRegister(),q=k.mutate,E=k.reset,D=k.isSuccess,H=k.isError,U=k.error,B=o.P.useUpdateUser(),R=B.mutate,T=B.reset,V=B.isSuccess,Y=B.isError,_=B.error,F=o.P.useDeleteUser(),L=F.mutate,M=F.reset,O=F.isSuccess,W=F.isError,G=F.error;D&&(E(),h(!1),(0,f.Cq)("Created Successfully")),H&&(E(),(0,f.sD)(U)),V&&(T(),h(!1),(0,f.Cq)("Updated Successfully")),Y&&(T(),(0,f.sD)(_)),O&&(M(),(0,f.Cq)("Deleted Successfully")),W&&(M(),(0,f.sD)(G));var J=function(){h(!1)};return(0,b.jsx)(l.Z,{name:"Admin",pageTitle:"Admin",children:(0,b.jsxs)("div",{className:"bgWhite",children:[(0,b.jsx)("div",{className:"btnContainer right",children:(0,b.jsx)("button",{type:"button",className:"btn btnSuccess shadowBtn",onClick:function(){h(!0),y(""),g(!1)},children:"Add Admin"})}),(0,b.jsx)(d.iA,{columns:[{title:"Name",field:"fullname"},{title:"Email",field:"email"},{title:"Phone",field:"phone"}],data:N,actions:function(e){return[{name:"Edit",onClick:function(e){y(e),h(!0),g(!0)}},{name:"Delete",onClick:function(e){c()({title:"Are you sure?",text:"Once deleted, you will not be able to recover this",icon:"warning",buttons:["No","Yes"],dangerMode:!0}).then((function(n){n&&L(e._id)}))}}]}}),(0,b.jsx)(d.u_,{isVisible:u,title:x?"Edit Admin":"Create Admin",size:"md",content:(0,b.jsxs)(d.cw,{onSubmit:x?function(){R(w)}:function(){q(w)},validation:!x&&w,errors:S,setErrors:Z,children:[(0,b.jsx)(d.II,{name:"firstname",label:"First Name",value:w.firstname,onChange:z,type:"text",validationHandler:A,error:S.firstname,required:!0,size:"large"}),(0,b.jsx)(d.II,{name:"lastname",label:"Last Name",value:w.lastname,onChange:z,type:"text",validationHandler:A,error:S.lastname,required:!0,size:"large"}),(0,b.jsx)(d.II,{name:"email",label:"Email Address",value:w.email,onChange:z,type:"email",validationHandler:A,error:S.email,required:!0,size:"large"}),(0,b.jsx)(d.II,{name:"phone",label:"Phone",value:w.phone,onChange:z,type:"number",validationHandler:A,error:S.phone,required:!0,size:"large"}),(0,b.jsx)(d.II,{name:"password",label:"Password",value:w.password,onChange:z,type:"password",validationHandler:A,error:S.password,required:!0,size:"large"}),(0,b.jsx)(d.II,{name:"confirmPassword",label:"Confirm Password",value:w.confirmPassword,onChange:z,type:"password",validationHandler:A,error:S.confirmPassword,required:!0,size:"large"}),(0,b.jsx)(d.zx,{title:x?"Update":"Add",loading:Boolean(e),disabled:Boolean(e),bgColor:"btnYellow",size:"small"}),(0,b.jsx)(d.zx,{title:"Cancel",type:"button",loading:1===e,disabled:1===e,bgColor:"btnBlack",size:"small",onClick:J})]}),onClose:J,footer:""})]})})}}}]);
//# sourceMappingURL=584.8c6e58db.chunk.js.map