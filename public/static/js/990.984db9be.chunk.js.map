{"version":3,"file":"static/js/990.984db9be.chunk.js","mappings":"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","sources":["layout/Private.js","modules/Admin/Posts/Create.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Header, Navbar } from \"../containers\";\r\nimport { AuthContext } from \"../context\";\r\n\r\nconst PrivateLayout = ({\r\n  children,\r\n  name,\r\n  role = \"Admin\",\r\n  pageTitle,\r\n  remove = false,\r\n}) => {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <div className=\"appContainer\">\r\n      <Navbar name={name} role={user?.role} />\r\n      <div className=\"contentsRight\">\r\n        <ToastContainer />\r\n        <Header title={pageTitle} user={user} />\r\n        <div className={remove ? \"removePadding\" : \"contents\"}>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivateLayout;\r\n","import React, { useState } from \"react\";\r\nimport PrivateLayout from \"../../../layout/Private\";\r\nimport { hooks } from \"../../../hooks\";\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  ImageUpload,\r\n  Input,\r\n  MultiSelect,\r\n  Select,\r\n} from \"../../../containers\";\r\nimport { useIsMutating } from \"@tanstack/react-query\";\r\nimport { errorAlert, successAlert } from \"../../../utils\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport { CKEditor } from \"@ckeditor/ckeditor5-react\";\r\nimport ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\r\n\r\nconst CreatePost = () => {\r\n  const isLoading = useIsMutating();\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const [pictures, setPictures] = useState(\"\");\r\n  const navigate = useNavigate();\r\n  const handleChange = (name, value) => {\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const validationHandler = (name, error) => {\r\n    setErrors({ ...errors, [name]: error });\r\n  };\r\n\r\n  const data = hooks.useCategory();\r\n  const { mutate, reset, isSuccess, isError, error } = hooks.useAddPost();\r\n\r\n  const submitHandler = () => {\r\n    mutate(formData);\r\n  };\r\n  if (isSuccess) {\r\n    reset();\r\n    successAlert(\"Created Successfully\");\r\n    navigate(\"/app/posts\");\r\n  }\r\n  if (isError) {\r\n    reset();\r\n    errorAlert(error);\r\n  }\r\n\r\n  const fileChange = (name, files) => {\r\n    let file = \"\";\r\n    let pix = [];\r\n    for (var i = 0; i < files?.length; i++) {\r\n      file = files[i];\r\n      const objectUrl = URL.createObjectURL(files[i]);\r\n      pix = objectUrl;\r\n    }\r\n\r\n    setFormData({ ...formData, [name]: file });\r\n    setPictures(pix);\r\n  };\r\n\r\n  const handleEditorDataChange = (event, editor) => {\r\n    const data = editor.getData();\r\n\r\n    setFormData({ ...formData, content: data });\r\n  };\r\n  return (\r\n    <PrivateLayout name=\"Posts\" pageTitle=\"Posts\">\r\n      <div className=\"contents bgWhite\">\r\n        <div className=\"btnContainer right\">\r\n          <Link to=\"/app/posts\" className=\"btn btnSuccess shadowBtn\">\r\n            Go Back\r\n          </Link>\r\n        </div>\r\n        <FormGroup\r\n          onSubmit={submitHandler}\r\n          // validation={formData}\r\n          validation={formData}\r\n          errors={errors}\r\n          setErrors={setErrors}\r\n        >\r\n          <Input\r\n            name=\"title\"\r\n            label=\"Title\"\r\n            value={formData[\"title\"]}\r\n            onChange={handleChange}\r\n            type=\"text\"\r\n            validationHandler={validationHandler}\r\n            error={errors.title}\r\n            required={true}\r\n            size=\"large\"\r\n          />\r\n          <MultiSelect\r\n            name=\"categories\"\r\n            label=\"Post Category\"\r\n            value={formData[\"categories\"]}\r\n            onChange={handleChange}\r\n            validationHandler={validationHandler}\r\n            error={errors.categories}\r\n            required={true}\r\n            data={data}\r\n            filter=\"title\"\r\n            filterValue=\"_id\"\r\n          />\r\n          <Select\r\n            name=\"type\"\r\n            label=\"Post Type\"\r\n            value={formData[\"type\"]}\r\n            onChange={handleChange}\r\n            type=\"text\"\r\n            validationHandler={validationHandler}\r\n            error={errors.type}\r\n            required={true}\r\n            data={[\r\n              { name: \"Featured\", value: \"featured\" },\r\n              { name: \"Alert\", value: \"alert\" },\r\n              { name: \"Headline\", value: \"headline\" },\r\n              { name: \"Post\", value: \"post\" },\r\n            ]}\r\n          />\r\n\r\n          <div className=\"editorContainer\">\r\n            <label style={{ fontSize: \"14px\", marginBottom: \"0.5rem\" }}>\r\n              Post Content\r\n            </label>\r\n            <div className=\"editor\">\r\n              <CKEditor\r\n                editor={ClassicEditor}\r\n                data={formData[\"content\"]}\r\n                onChange={handleEditorDataChange}\r\n              />\r\n            </div>\r\n          </div>\r\n          <Input\r\n            name=\"author\"\r\n            label=\"Author\"\r\n            value={formData[\"author\"]}\r\n            onChange={handleChange}\r\n            type=\"text\"\r\n            validationHandler={validationHandler}\r\n            error={errors.author}\r\n            required={true}\r\n          />\r\n          <ImageUpload\r\n            name=\"images\"\r\n            label=\"Post Banner Image\"\r\n            // value={formData[\"images\"]}\r\n            onChange={fileChange}\r\n            validationHandler={validationHandler}\r\n            error={errors.images}\r\n            // required={true}\r\n            className=\"btnSuccess\"\r\n            multiple={false}\r\n          />\r\n          {pictures && (\r\n            <div className=\"pix\">\r\n              <div className=\"title\">Uploaded Picture</div>\r\n              <div className=\"pixFlex\">\r\n                <img src={pictures} alt=\"products\" />\r\n              </div>\r\n            </div>\r\n          )}\r\n          <Button\r\n            title={\"Create Post\"}\r\n            loading={Boolean(isLoading)}\r\n            disabled={Boolean(isLoading)}\r\n            bgColor=\"btnYellow\"\r\n            size=\"small\"\r\n          />\r\n        </FormGroup>\r\n      </div>\r\n    </PrivateLayout>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n"],"names":["_ref","children","name","pageTitle","role","_ref$remove","remove","user","useContext","AuthContext","_jsxs","className","_jsx","Navbar","ToastContainer","Header","title","isLoading","useIsMutating","_useState","useState","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","errors","setErrors","_useState5","_useState6","pictures","setPictures","navigate","useNavigate","handleChange","value","_objectSpread","_defineProperty","validationHandler","error","data","hooks","useCategory","_hooks$useAddPost","useAddPost","mutate","reset","isSuccess","isError","successAlert","errorAlert","PrivateLayout","Link","to","FormGroup","onSubmit","validation","Input","label","onChange","type","required","size","MultiSelect","categories","filter","filterValue","Select","style","fontSize","marginBottom","CKEditor","editor","ClassicEditor","event","getData","content","author","ImageUpload","files","file","pix","i","length","URL","createObjectURL","images","multiple","src","alt","Button","loading","Boolean","disabled","bgColor"],"sourceRoot":""}