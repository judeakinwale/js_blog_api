{"version":3,"file":"static/js/332.d361c5cb.chunk.js","mappings":"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","sources":["layout/Private.js","modules/Admin/Posts/index.js"],"sourcesContent":["import React, { useContext } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport { Header, Navbar } from \"../containers\";\r\nimport { AuthContext } from \"../context\";\r\n\r\nconst PrivateLayout = ({\r\n  children,\r\n  name,\r\n  role = \"Admin\",\r\n  pageTitle,\r\n  remove = false,\r\n}) => {\r\n  const { user } = useContext(AuthContext);\r\n  return (\r\n    <div className=\"appContainer\">\r\n      <Navbar name={name} role={user?.role} />\r\n      <div className=\"contentsRight\">\r\n        <ToastContainer />\r\n        <Header title={pageTitle} user={user} />\r\n        <div className={remove ? \"removePadding\" : \"contents\"}>{children}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivateLayout;\r\n","import React, { useState } from \"react\";\r\nimport PrivateLayout from \"../../../layout/Private\";\r\nimport { hooks } from \"../../../hooks\";\r\nimport { Button, FormGroup, Input, Modal, Table } from \"../../../containers\";\r\nimport swal from \"sweetalert\";\r\nimport { useIsMutating } from \"@tanstack/react-query\";\r\nimport { errorAlert, successAlert } from \"../../../utils\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nconst Posts = () => {\r\n  const isLoading = useIsMutating();\r\n  const [formData, setFormData] = useState({});\r\n  const [errors, setErrors] = useState({});\r\n  const Columns = [{ title: \"Title\", field: \"title\" }];\r\n  const navigate = useNavigate();\r\n  const handleChange = (name, value) => {\r\n    setFormData({ ...formData, [name]: value });\r\n  };\r\n\r\n  const validationHandler = (name, error) => {\r\n    setErrors({ ...errors, [name]: error });\r\n  };\r\n\r\n  const data = hooks.usePost();\r\n  const { mutate, reset, isSuccess, isError, error } = hooks.useAddPost();\r\n  const {\r\n    mutate: update,\r\n    reset: resetUpdate,\r\n    isSuccess: isSuccessUpdate,\r\n    isError: isUpdateError,\r\n    error: errorUpdate,\r\n  } = hooks.useUpdatePost();\r\n  const {\r\n    mutate: remove,\r\n    reset: resetError,\r\n    isSuccess: isSuccessError,\r\n    isError: isDeleteError,\r\n    error: errorDelete,\r\n  } = hooks.useDeletePost();\r\n\r\n  const submitHandler = () => {\r\n    mutate(formData);\r\n  };\r\n  if (isSuccess) {\r\n    reset();\r\n    // setOpen(false);\r\n    successAlert(\"Created Successfully\");\r\n  }\r\n  if (isError) {\r\n    reset();\r\n    errorAlert(error);\r\n  }\r\n  if (isSuccessUpdate) {\r\n    resetUpdate();\r\n    // setOpen(false);\r\n    successAlert(\"Updated Successfully\");\r\n  }\r\n  if (isUpdateError) {\r\n    resetUpdate();\r\n    errorAlert(errorUpdate);\r\n  }\r\n  if (isSuccessError) {\r\n    resetError();\r\n    successAlert(\"Deleted Successfully\");\r\n  }\r\n  if (isDeleteError) {\r\n    resetError();\r\n    errorAlert(errorDelete);\r\n  }\r\n  const updateHandler = () => {\r\n    update(formData);\r\n  };\r\n\r\n  const actions = (item) => [\r\n    {\r\n      name: \"Edit\",\r\n      onClick: (res) => {\r\n        navigate(`/app/post/edit/${res?._id}`);\r\n      },\r\n    },\r\n    {\r\n      name: \"Delete\",\r\n      onClick: (res) => {\r\n        swal({\r\n          title: \"Are you sure?\",\r\n          text: \"Once deleted, you will not be able to recover this\",\r\n          icon: \"warning\",\r\n          buttons: [\"No\", \"Yes\"],\r\n          dangerMode: true,\r\n        }).then((willDelete) => {\r\n          if (willDelete) {\r\n            remove(res._id);\r\n          }\r\n        });\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <PrivateLayout name=\"Posts\" pageTitle=\"Posts\">\r\n      <div className=\"bgWhite\">\r\n        <div className=\"btnContainer right\">\r\n          <Link to=\"/app/post/create\" className=\"btn btnSuccess shadowBtn\">\r\n            Create Post\r\n          </Link>\r\n        </div>\r\n        <Table columns={Columns} data={data} actions={actions} />\r\n      </div>\r\n    </PrivateLayout>\r\n  );\r\n};\r\n\r\nexport default Posts;\r\n"],"names":["_ref","children","name","pageTitle","role","_ref$remove","remove","user","useContext","AuthContext","_jsxs","className","_jsx","Navbar","ToastContainer","Header","title","useIsMutating","_useState","useState","_useState2","_slicedToArray","_useState3","_useState4","navigate","useNavigate","data","hooks","usePost","_hooks$useAddPost","useAddPost","reset","mutate","isSuccess","isError","error","_hooks$useUpdatePost","useUpdatePost","resetUpdate","isSuccessUpdate","isUpdateError","errorUpdate","_hooks$useDeletePost","useDeletePost","resetError","isSuccessError","isDeleteError","errorDelete","successAlert","errorAlert","PrivateLayout","Link","to","Table","columns","field","actions","item","onClick","res","concat","_id","swal","text","icon","buttons","dangerMode","then","willDelete"],"sourceRoot":""}